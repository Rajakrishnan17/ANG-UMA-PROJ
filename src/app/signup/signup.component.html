<!-- main app container -->
<div class="sign-up-form">
    <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <h3>Reactive Form Validation</h3>
                <form [formGroup]="signupform">
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" formControlName="firstName" />
                        <div class="error-msg" *ngIf="(signupform.controls.firstName.touched || submitted) && signupform.controls.firstName.hasError('required')">First Name is required</div>
                        
                    </div>
                    <div class="form-group">
                        <label>Last Name</label>
                        <input type="text" formControlName="lastName" />                        
                        <div class="error-msg" *ngIf="(signupform.controls.lastName.touched || submitted) && signupform.controls.lastName.hasError('required')">Last Name is required</div>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" formControlName="password" />
                        <div  class="error-msg" *ngIf="(signupform.controls.password.touched || submitted) && signupform.controls.password.hasError('required')">Password is required</div>
                        <div  class="error-msg" *ngIf="(signupform.controls.password.touched || submitted) && signupform.controls.password.hasError('minlength')">Password must be at least 6 characters</div>
                    </div>    

                    <div class="form-group">
                        <label>Email</label>
                        <input type="text" formControlName="email" />
                        <div  class="error-msg" *ngIf="(signupform.controls.email.touched || submitted) && signupform.controls.email.hasError('required')">Email is required</div>
                        <div  class="error-msg" *ngIf="(signupform.controls.email.touched || submitted) && signupform.controls.email.hasError('email')">Email must be a valid email address</div>
                    </div>
                    <p>{{ msg }}</p>
                    
                    <div class="form-group">
                        <button class="btn btn-primary" (click)="adduser()">Sign Up</button>                        
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<button (click)="showTable()">  {{btname}}</button>
<div class="center" *ngIf="show">

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>EMail</th>                
                <th colspan="2">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let ur of userlist_array let i = index">

                <td>{{i+1}}</td>
                <td>{{ur.firstname}}</td>
                <td>{{ur.lastname}}</td>
                <td>{{ur.email}}</td>                
                <td><input type="button" (click)="deleteuser(ur.id)" value="Delete" /></td>
                <td><input type="button" (click)="updateuser(ur.id)" value="Update" /></td>
            </tr>
        </tbody>
    </table>
    
</div>

